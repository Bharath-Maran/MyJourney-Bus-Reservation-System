{%extends 'base.html'%}
{%block title%}Booking History | Aspire Bus{%endblock%}
{%block content%}
<div class="booking-history-container">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Booking ID</th>
          <th scope="col">Passengers</th>
          <th scope="col">Total Fare</th>
          <th scope="col">Payment Status</th>
          <th scope="col">Booking Status</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for details in booking_details %}
        <tr>
          <td>{{ details[0] }}</td>
          <td>{{ details[1] }}</td>
          <td>{{ details[2] }}</td>
          <td>{{ details[3] }}</td>
          <td>{{ details[4] }}</td>
          <td>
            <form action="#" method="post">
                <input type="hidden" name="booking_id" value="{{details[0]}}">
                {%if details[3] == 'Completed' and details[4] == 'Confirmed'%}
                <button class="btn btn-success" type="submit" name="action" value="ViewTicket">View Ticket</button>
                <button class="btn btn-danger" type="submit" name="action" value="CancelTicket">Cancel Ticket</button>
                {%else%}
                <button class="btn btn-success" type="submit" name="action" value="ViewTicket" disabled>View Ticket</button>
                <button class="btn btn-danger" type="submit" name="action" value="CancelTicket" disabled>Cancel Ticket</button>
                {%endif%}
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    </div>
{%endblock%}